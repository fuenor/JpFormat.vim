
JpFormat.vimはVimで日本語の禁則処理に対応したフォーマット整形プラグインです。  

単純にformatexprへ登録して日本語対応のgqコマンドとして使うことも可能ですが、本プラグインは入力を行いながら編集中の日本語文書を自動整形して原稿の整形結果を常に確認しながら編集を行うことを主な目的にしています。  

Vim単体でもwrapmarginやtextwidthなどを使用して整形が行えますが、日本語の禁則処理は考慮されていませんしgqコマンドは空行のみを段落の区切りとみなして連結して改行を埋め込んでしまうので本来の構造が失われます。  
JpFormat.vimでは空白行ではなく改行を段落として扱うので改行に意味のある文書でもきちんと整形できます。  

JpFormat.vimの大きな特徴は疑似ソフトラップが行える事です。  
擬似ソフトラップで折り返しを行う際には改行を埋め込みますが、表示上の改行をマーカーで管理するので原稿形式を何回変更しても元の構造は保持され、何度整形しても元の非整形状態に戻せるために安心して書きかけの原稿に整形を掛ける事が出来ます。  
このため未完成原稿でも整形結果を確認しながら、挿入モードで入力する度に自動整形するような使い方もストレス無く実行出来ます。  
未完成原稿ではマーカーを使用して整形し、最終原稿では全文連結コマンドかマーカー削除を実行するというのが主な使い方になります。  
